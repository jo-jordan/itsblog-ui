<template>
  <div @mousedown="bringWindowToTop">
    <div v-show="visible" class="window-backgound" :style="afterDragStyle" ref="mContainer">
      <div class="window-top-action-bar" @mousedown="startDrag">
        <div class="window-top-action-bar-item-outter-common">
          <div class="window-top-action-bar-close-inner window-top-action-bar-item-common">
            <div class="window-top-action-bar-inner-text" @click="unload">x</div>
          </div>
        </div>
        <div class="window-top-action-bar-item-outter-common">
          <div class="window-top-action-bar-min-inner window-top-action-bar-item-common">
            <div class="window-top-action-bar-inner-text" @click="fold">-</div>
          </div>
        </div>
        <div class="window-top-action-bar-item-outter-common">
          <div class="window-top-action-bar-max-inner window-top-action-bar-item-common">
            <div class="window-top-action-bar-inner-text">+</div>
          </div>
        </div>

        <div class="window-top-title">
          <img style="height: 100%;vertical-align: middle;" :src="titleIcon" alt="Blog Viewer" width="14px">
          Mao Yidan's Resume
        </div>
      </div>
      <div class="window-tool-bar">

      </div>
      <div class="window-content">
        
        <article id="9fb05b4a-62d8-49f7-9c5d-dfc03fd3d8c8" class="page mono"><header><h1 class="page-title">æ¯›ä¹‰ä¸¹çš„ä¸ªäººç®€å†</h1></header><div class="page-body"><blockquote id="4bdca8eb-2fdc-4292-b7c5-d91c603fee6d" class="">æˆ‘æ˜¯Javaå¼€å‘å·¥ç¨‹å¸ˆï¼Œ3å¹´å·¥ä½œç»éªŒï¼Œ2å¹´å·¥ä¸šäº’è”ç½‘è¡Œä¸šå¼€å‘ç»éªŒï¼Œç›®æ ‡æ­¦æ±‰ã€‚</blockquote><h1 id="122ce854-7359-48b7-b75b-2313746581f2" class="">â˜ï¸  ä¸ªäººä¿¡æ¯</h1><p id="4395576f-0b82-46b9-8d25-a717894637c3" class="">âœ’ï¸  ä¸ªäººåšå®¢ ğŸ‘‰ <a href="https://edgeless.me">edgeless.me</a></p><p id="1e40364d-3fbb-4fd4-91cb-f968e3748f6a" class="">ğŸ”—  GitHub ğŸ‘‰ <a href="https://github.com/lzjlxebr">@lzjlxebr</a></p><p id="a784de6f-dcea-4289-aefe-3380aa6beb75" class="">ğŸ“§  é‚®ç®± ğŸ‘‰ <a href="mailto:tyyzmyd@gmail.com">tyyzmyd@gmail.com</a></p><p id="c7fb2bbf-3976-4dab-a8eb-a62b270c6b2f" class="">ğŸ¦  æ¨ç‰¹ ğŸ‘‰ <a href="https://twitter.com/maoyidan">@lzjlxebr</a></p><hr id="c25472e0-f806-4c5f-b350-59e6b65fb71d"/><h1 id="4ad1f466-161c-446f-9bdb-adcda430726f" class="">ğŸ’» æŠ€èƒ½æ°´å¹³</h1><h3 id="df36d27a-5d8d-45a4-8fb5-cf22803aef82" class="">Java â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</h3><ul id="54008627-37f9-4976-8dd4-f8b30df9addb" class="bulleted-list"><li>3+å¹´Javaä½¿ç”¨ç»éªŒã€‚</li></ul><ul id="2c2f8451-ed99-46cd-815d-dc5c1be21b91" class="bulleted-list"><li>ç†Ÿç»ƒä½¿ç”¨Spring Bootã€JPAã€Quartzã€‚</li></ul><ul id="82f64efc-e5dd-450e-8e26-23a3bec01143" class="bulleted-list"><li>æ“…é•¿ä½¿ç”¨Javaå¤šçº¿ç¨‹è§£å†³çš„ä¸šåŠ¡é—®é¢˜ã€‚</li></ul><ul id="d40405cc-5f6c-48d2-8479-71da7a0c3cb7" class="bulleted-list"><li>ä¼˜åŒ–å¤šä¸ªä¸šåŠ¡é€»è¾‘è€—æ—¶ç§’åˆ°æ¯«ç§’ã€‚</li></ul><ul id="b70a6f1c-559d-4826-b6ed-02621390f856" class="bulleted-list"><li>ç¼–å†™è¿‡4ä¸ªAndroid Appï¼Œå…¶ä¸­ä¸€ä¸ª<a href="http://www.yxdown.com/app/794982.html">å·²ä¸Šæ¶</a>ã€‚</li></ul><h3 id="48cebf35-5ecf-499d-b28d-8934e26087ea" class="">MySQL â­ï¸â­ï¸â­ï¸â­ï¸</h3><ul id="0396e4fa-11d7-4a64-ba01-a7644124868b" class="bulleted-list"><li>ç†Ÿç»ƒä½¿ç”¨å„ç§å¤æ‚æŸ¥è¯¢è¯­å¥</li></ul><ul id="e8873069-6b00-4528-bfe0-354fb86c28f3" class="bulleted-list"><li>æ“…é•¿SQLæŸ¥è¯¢æ•ˆç‡çš„ä¼˜åŒ–</li></ul><ul id="b61d10a1-7efc-4f9e-a932-c1aceee0b544" class="bulleted-list"><li>ç†Ÿæ‚‰æ•°æ®è¡¨åˆ†åŒºæ“ä½œ</li></ul><h3 id="53fee30a-371b-4f50-8eef-e024fe1a67ea" class="">Swift â­ï¸â­ï¸â­ï¸â­ï¸</h3><ul id="e6484d8b-4c7d-4145-bb84-5a43a9b1acf3" class="bulleted-list"><li>1ä¸ªå·²ç»ä¸Šæ¶çš„<a href="https://apps.apple.com/cn/app/%E6%99%BA%E8%81%94%E4%B9%90%E5%AE%B6/id1510552192"><strong>iOS APP</strong></a>ï¼Œ1ä¸ªæœˆæ—¶é—´è‡ªå­¦ï¼Œä»0åˆ°1ç¼–å†™æ­¤APPã€‚</li></ul><ul id="ad0bb109-61f6-49c9-85e5-a6932ec7e9c4" class="bulleted-list"><li>ä½¿ç”¨Mac Catalystç¼–å†™åœ¨Appleä¸‰ç«¯é€šç”¨çš„ä¸ªäººApp: ColorHammerã€‚</li></ul><h3 id="580f263f-a6ee-434b-b33d-838a7c6f3d44" class="">JavaScript â­ï¸â­ï¸â­ï¸</h3><ul id="aee61a78-3ef3-47c1-870c-7faf8dd4a434" class="bulleted-list"><li>ä½¿ç”¨Vue.jsæŠ€æœ¯æ ˆç¼–å†™2ä¸ªåå°ç®¡ç†å‰ç«¯ç•Œé¢</li></ul><ul id="fab61a4c-bba8-4a01-bbdb-2cc821b4478d" class="bulleted-list"><li>æˆ‘çš„ä¸ªäººåšå®¢ä½¿ç”¨Vue.jsæŠ€æœ¯æ ˆç¼–å†™</li></ul><hr id="5314cc4a-55ef-4518-a450-24977e51447c"/><h1 id="e749b8ff-29f6-4da3-bd8e-5dad7eb703b7" class="">âŒ¨ï¸<strong> </strong>å·¥ä½œç»å†</h1><h2 id="b348312e-0d17-4aaf-8a13-ebf1543cd175" class="">Javaå¼€å‘å·¥ç¨‹å¸ˆ</h2><p id="cc72ffee-8e74-401b-9219-698c61c9e029" class="block-color-gray"><em>ä¸­å†¶å—æ–¹éƒ½å¸‚ç¯ä¿å·¥ç¨‹æŠ€æœ¯è‚¡ä»½æœ‰é™å…¬å¸, æ­¦æ±‰ â€“ (2019å¹´07æœˆ-2020å¹´10æœˆ)</em></p><h2 id="f28ba1cd-c9b3-4a38-bb71-1a15aaa88a22" class="">Javaå¼€å‘å·¥ç¨‹å¸ˆã€Androidå¼€å‘å·¥ç¨‹å¸ˆ</h2><p id="1e8bc3c9-4aba-4c99-b385-af05fe1352aa" class="block-color-gray"><em>å¿…è…¾ç§»åŠ¨ç§‘æŠ€æœ‰é™è´£ä»»å…¬å¸, æ­¦æ±‰ â€“ (2018å¹´07æœˆ-2019å¹´07æœˆ)</em></p><h2 id="9d59836c-b9db-439a-ad65-463d11a628da" class="">Javaå¼€å‘å·¥ç¨‹å¸ˆ</h2><p id="215217c6-eba2-4c8f-a5d4-e622617006ec" class="block-color-gray"><em>å¤©åˆ©é˜æœé¥°æœ‰é™å…¬å¸, æ­¦æ±‰ â€“ (2017å¹´07æœˆ-2018å¹´05æœˆ)</em></p><p id="fd89b2ba-22af-46a2-8a6b-e7120b70fd5c" class="">
          </p><hr id="4c145100-beb9-49bc-a07a-2599aa202a2d"/><h1 id="f408d444-6559-455b-985e-6549d9dbd05e" class="">ğŸ“œ åšå®¢å’Œæƒ³æ³•</h1><ul id="68d2d68e-5f20-470c-9b38-f65e68fdd275" class="bulleted-list"><li><a href="https://dev.to/anabella/dancing-with-oauth-emp">Dancing with OAuth: a step by step guide</a></li></ul><hr id="70059e9b-fdd3-45b7-a50c-ad45419de933"/><h1 id="b414d384-cd28-48b9-a618-0a04653c7bbb" class="">ğŸ“š æ•™è‚²</h1><h2 id="5b1178b9-2771-4ae6-8e23-156846449c57" class="">æ²³åŒ—å·¥ç¨‹å¤§å­¦</h2><p id="88bcff75-31a5-457b-88fe-50c4dedb3342" class="block-color-gray"><em>èµ„æºå‹˜æŸ¥å·¥ç¨‹</em></p><p id="7d402345-fb68-45ae-8ccd-fed0e2972d67" class="">å…³äºæˆ‘çš„å¤§å­¦ï¼šå¤§å››ä¸‹åŠæœŸâ€œè§‰é†’â€åå¼€å§‹è‡ªå­¦Javaç¼–ç¨‹ã€‚æ¯•ä¸šåä¸€ç›´ä»äº‹ITç›¸å…³è¡Œä¸šã€‚</p><p id="af3e0ece-160c-45df-a794-59f31c68ed33" class="">
          </p><p id="da944388-c0f0-4c37-b51e-ef2e5b83acba" class="">
          </p><p id="93e3e559-f454-4fd6-a6b1-5a2ec37cd063" class="">
          </p></div>
        </article>
      </div>
    </div>
    <canvas></canvas>
  </div>
</template>

<script>
import store from '../../store'
import Event from '../../main'
import titleIcon from '../../assets/macos-x-mail.png'
import { bringWindowToTop, fold, unfold, unload, draw, clearRect, scale, stopDrag, startDrag, doDrag, resize } from '../../common/Window'

export default {
  name: 'Window',
  data () {
    return {
      titleIcon: titleIcon,
      afterDragStyle: {},
      visible: false,
      canvasVisible: false,
      dragging: false,
      x: 0,
      y: 0,
      lastX: 0,
      lastY: 0,
      lastTop: 0,
      lastLeft: 0,

      maxLeft:0,
      maxTop:0,
      minLeft:0,
      minTop:0,
      canvas: null,
      ctx: null,
      p1:0,
      p2:0,
      itemName: '',

      style: {
        zIndex: 10
      },
    }
  },
  mounted() {
    // Calculate center left and top value
    this.$nextTick(() => {
      var width = window.getComputedStyle(this.$refs.mContainer).width
      width = Number(width.substring(0, width.indexOf('px')))

      var height = window.getComputedStyle(this.$refs.mContainer).height
      height = Number(height.substring(0, height.indexOf('px')))

      var centerLeft = window.innerWidth / 2 - width / 2
      var centerTop = window.innerHeight / 2 - height / 2

      this.afterDragStyle = {
        left: centerLeft + 'px',
        top: centerTop + 'px'
      }

      this.canvas = document.querySelector("canvas");
      this.ctx = this.canvas.getContext("2d");
      Event.$on('window-unfold', (data) => {
        if (data.itemName === this.itemName && this.visible === false) {
          this.unfold()
          this.p1 = data.p1
          this.p2 = data.p2
        }
      })

      Event.$on('window-load', (data) => {
        if (data.itemName === this.itemName) {
          this.p1 = data.p1
          this.p2 = data.p2
        }
      })
    })

    window.addEventListener('mouseup', this.stopDrag);
    window.addEventListener('mousemove', this.doDrag);
  },
  methods: {
    bringWindowToTop, unload, fold, unfold, draw, clearRect, scale, stopDrag, startDrag, doDrag, resize
  }
}
</script>

<style scoped src="../../style/markdown.css">
  
</style>

<style lang="scss" scoped>
@import url('../../style/Window.scss');

.window-backgound {
  border: 1px solid black;
  position: fixed;
  height: 720px;
  width: 900px;
  background: url("../../assets/normal-bg.svg") top left;
  box-shadow: 0px 6px 16px black;
  border-radius: 8px 8px 0 0;
}

.window-content {
  height: calc(100% - 46px - 21px);
  width: 100%;
  padding: 0 48px;
  overflow-y: scroll;
  background: white;
  display: block;
}

.window-tool-bar {
  height: 46px;
  width: 100%;
  display: block;
  background: url("../../assets/normal-bg.svg") top left;
  border-bottom: 1px solid #c3c3c3;
}


</style>